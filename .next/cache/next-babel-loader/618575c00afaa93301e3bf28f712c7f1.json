{"ast":null,"code":"import Stripe from \"stripe\";\nconst stripe = new Stripe(process.env.STRIPE_SECRET_KEY, {\n  apiVersion: \"2020-08-27\"\n});\nexport default (async (req, res) => {\n  const {\n    id\n  } = req.query;\n  const session = await stripe.checkout.sessions.retrieve(id, {\n    expand: [\"payment_intent\"]\n  });\n  res.status(200).json({\n    session\n  });\n});","map":{"version":3,"sources":["/Users/HTMusic/Desktop/PROJECTS/westfield-web/pages/api/checkout/[id].tsx"],"names":["Stripe","stripe","process","env","STRIPE_SECRET_KEY","apiVersion","req","res","id","query","session","checkout","sessions","retrieve","expand","status","json"],"mappings":"AAEA,OAAOA,MAAP,MAAmB,QAAnB;AACA,MAAMC,MAAM,GAAG,IAAID,MAAJ,CAAWE,OAAO,CAACC,GAAR,CAAYC,iBAAvB,EAA0C;AACvDC,EAAAA,UAAU,EAAE;AAD2C,CAA1C,CAAf;AAIA,gBAAe,OAAOC,GAAP,EAA4BC,GAA5B,KAAqD;AAClE,QAAM;AAAEC,IAAAA;AAAF,MAASF,GAAG,CAACG,KAAnB;AACA,QAAMC,OAAO,GAAG,MAAMT,MAAM,CAACU,QAAP,CAAgBC,QAAhB,CAAyBC,QAAzB,CAAkCL,EAAlC,EAAgD;AAACM,IAAAA,MAAM,EAAE,CAAC,gBAAD;AAAT,GAAhD,CAAtB;AAEAP,EAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEN,IAAAA;AAAF,GAArB;AACD,CALD","sourcesContent":["import { NextApiRequest, NextApiResponse } from \"next\";\n\nimport Stripe from \"stripe\";\nconst stripe = new Stripe(process.env.STRIPE_SECRET_KEY, {\n  apiVersion: \"2020-08-27\",\n})\n\nexport default async (req: NextApiRequest, res: NextApiResponse) => {\n  const { id } = req.query;\n  const session = await stripe.checkout.sessions.retrieve(id as string, {expand: [\"payment_intent\"]})\n\n  res.status(200).json({ session });\n};\n"]},"metadata":{},"sourceType":"module"}