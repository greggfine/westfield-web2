{"ast":null,"code":"var cloudinary = require('cloudinary').v2;\n\ncloudinary.config({\n  cloud_name: process.env.CLOUDINARY_NAME,\n  api_key: process.env.CLOUDINARY_API_KEY,\n  api_secret: process.env.CLOUDINARY_API_SECRET\n});\nexport default (async (req, res) => {\n  const {\n    resources\n  } = await cloudinary.search.sort_by(\"public_id\", \"desc\").max_results(30).execute();\n  const publicIds = resources.map(file = file.public_id);\n  res.send(publicIds);\n});","map":{"version":3,"sources":["/Users/HTMusic/Desktop/PROJECTS/westfield-web_b/pages/api/images.ts"],"names":["cloudinary","require","v2","config","cloud_name","process","env","CLOUDINARY_NAME","api_key","CLOUDINARY_API_KEY","api_secret","CLOUDINARY_API_SECRET","req","res","resources","search","sort_by","max_results","execute","publicIds","map","file","public_id","send"],"mappings":"AAEA,IAAIA,UAAU,GAAGC,OAAO,CAAC,YAAD,CAAP,CAAsBC,EAAvC;;AACAF,UAAU,CAACG,MAAX,CAAkB;AACdC,EAAAA,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC,eADV;AAEdC,EAAAA,OAAO,EAAEH,OAAO,CAACC,GAAR,CAAYG,kBAFP;AAGdC,EAAAA,UAAU,EAAEL,OAAO,CAACC,GAAR,CAAYK;AAHV,CAAlB;AAMA,gBAAe,OAAOC,GAAP,EAA4BC,GAA5B,KAAqD;AAChE,QAAM;AAACC,IAAAA;AAAD,MAAc,MAAMd,UAAU,CAACe,MAAX,CACrBC,OADqB,CACb,WADa,EACA,MADA,EAErBC,WAFqB,CAET,EAFS,EAGrBC,OAHqB,EAA1B;AAII,QAAMC,SAAS,GAAGL,SAAS,CAACM,GAAV,CAAcC,IAAI,GAAGA,IAAI,CAACC,SAA1B,CAAlB;AACAT,EAAAA,GAAG,CAACU,IAAJ,CAASJ,SAAT;AACP,CAPD","sourcesContent":["import { NextApiRequest, NextApiResponse } from \"next\";\n\nvar cloudinary = require('cloudinary').v2\ncloudinary.config({\n    cloud_name: process.env.CLOUDINARY_NAME,\n    api_key: process.env.CLOUDINARY_API_KEY,\n    api_secret: process.env.CLOUDINARY_API_SECRET\n})\n\nexport default async (req: NextApiRequest, res: NextApiResponse) => {\n    const {resources} = await cloudinary.search\n        .sort_by(\"public_id\", \"desc\")\n        .max_results(30)\n        .execute();\n        const publicIds = resources.map(file = file.public_id)\n        res.send(publicIds)\n};\n "]},"metadata":{},"sourceType":"module"}